
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Natural Computing Course Assignments 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-natural-computing-course-assignments-s-documentation">
<h1>Welcome to Natural Computing Course Assignments’s documentation!<a class="headerlink" href="#welcome-to-natural-computing-course-assignments-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-assignment_1"></span><div class="section" id="assignment-1">
<h2>Assignment 1<a class="headerlink" href="#assignment-1" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><ol class="first loweralpha">
<li><div class="first math">
\[\frac{157}{76 \cdot 100} \cdot 100 \approx 2 \;.\]</div>
</li>
<li><div class="first math">
\[\left( 1 - \frac{157}{100 \cdot 76} \right)^{100} \approx 12.4\% \;.\]</div>
</li>
</ol>
</li>
<li><p class="first">Assume that the whole population consists of <span class="math">\(\{3, 5, 7\}\)</span> only.
Then we have</p>
<div class="math">
\[\begin{split}\left\{
  \begin{aligned}
    \mathbb{P}[3] &amp;= \frac{f(3)}{f(3) + f(5) + f(7)} \approx 0.11 \;,\\
    \mathbb{P}[5] &amp;= \frac{f(5)}{f(3) + f(5) + f(7)} \approx 0.3 \;,\\
    \mathbb{P}[7] &amp;= \frac{f(7)}{f(3) + f(5) + f(7)} \approx 0.59 \;.\\
  \end{aligned}
\right.\end{split}\]</div>
<p>Calculating <span class="math">\(\mathbb{P}\)</span>‘s for <span class="math">\(f_1\)</span> is now a matter of
replacing <span class="math">\(f\)</span> with <span class="math">\(f_1\)</span>. We get</p>
<div class="math">
\[\begin{split}\left\{
  \begin{aligned}
    \mathbb{P}'[3] &amp;\approx 0.16 \;,\\
    \mathbb{P}'[5] &amp;\approx 0.31 \;,\\
    \mathbb{P}'[7] &amp;\approx 0.53 \;,\\
  \end{aligned}
\right.\end{split}\]</div>
<p>which obviously yields a lower selection pressure.</p>
</li>
<li><p class="first">Here’s the code:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fake_monte_carlo</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">],</span> <span class="n">T</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">iterations</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                     <span class="n">out</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">,</span> <span class="n">T</span><span class="p">]:</span>
    <span class="n">max_f</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">max_x</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fx</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span>
                       <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span>
                        <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">))):</span>
        <span class="n">max_x</span><span class="p">,</span> <span class="n">max_f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fx</span><span class="p">)</span> <span class="k">if</span> <span class="n">fx</span> <span class="o">&gt;</span> <span class="n">max_f</span> <span class="k">else</span> <span class="p">(</span><span class="n">max_x</span><span class="p">,</span> <span class="n">max_f</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">out</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">max_f</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">out</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">max_x</span><span class="p">,</span> <span class="n">max_f</span>
</pre></div>
</td></tr></table></div>
<p>And the result:</p>
<img alt="_images/FakeMonteCarlo.png" src="_images/FakeMonteCarlo.png" />
</li>
<li><p class="first">Here’s the code:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    
<span class="k">def</span> <span class="nf">genetic_one_plus_one</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">iterations</span><span class="p">):</span>
    <span class="n">mutation_rate</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">n</span><span class="p">)</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">iterations</span><span class="p">):</span>
        <span class="n">x2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="p">)])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">mutation_rate</span><span class="p">):</span>
                <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x2</span>
        <span class="n">scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>And the result:</p>
<img alt="_images/genetic_algorithm.png" src="_images/genetic_algorithm.png" />
</li>
<li><p class="first">Function set: <span class="math">\(\{\wedge, \vee, \to, \leftrightarrow\}\)</span>, terminal
set: <span class="math">\(\{x, y, z, true\}\)</span>, and the s-expression is:</p>
<div class="math">
\[\left(\to (\wedge\; x\; true)\; (\vee\; (\vee\; x\; y)\;
   (\leftrightarrow\; z\; (\wedge\; x\; y))) \right) \;.\]</div>
</li>
<li><p class="first">Here’s the code:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">()</span>
    <span class="n">regressor</span> <span class="o">=</span> <span class="n">SymbolicRegressor</span><span class="p">(</span><span class="n">population_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                                  <span class="n">generations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                                  <span class="n">const_range</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">0</span><span class="p">),</span>
                                  <span class="n">init_depth</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
                                  <span class="n">init_method</span><span class="o">=</span><span class="s1">&#39;grow&#39;</span><span class="p">,</span>
                                  <span class="n">function_set</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;sub&#39;</span><span class="p">,</span> <span class="s1">&#39;mul&#39;</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="s1">&#39;sin&#39;</span><span class="p">,</span> <span class="s1">&#39;cos&#39;</span><span class="p">),</span>
                                  <span class="n">p_crossover</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
                                  <span class="n">p_subtree_mutation</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                  <span class="n">p_hoist_mutation</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                  <span class="n">p_point_mutation</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                  <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                  <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">regressor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="n">regressor</span><span class="o">.</span><span class="n">_program</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>And the results:</p>
<img alt="_images/GP_Function.png" src="_images/GP_Function.png" />
<img alt="_images/GP_Size.png" src="_images/GP_Size.png" />
<img alt="_images/GP_Fitness.png" src="_images/GP_Fitness.png" />
<p>Fortunately, our fit converged really well with no undesirable effects.</p>
</li>
</ol>
</div>
<span id="document-assignment_2"></span><div class="section" id="assignment-2">
<h2>Assignment 2<a class="headerlink" href="#assignment-2" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Here’s the code for computing ROC AUC scores for different test sets
and parameters:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span>negsel2 <span class="o">()</span>
<span class="o">{</span>
	java -jar <span class="nv">$NEGSEL2</span> -alphabet file://<span class="s2">&quot;</span><span class="nv">$ENGLISH_TRAIN</span><span class="s2">&quot;</span> -self <span class="s2">&quot;</span><span class="nv">$ENGLISH_TRAIN</span><span class="s2">&quot;</span> <span class="nv">$@</span>
<span class="o">}</span>

roc_auc<span class="o">()</span>
<span class="o">{</span>
	python3 - <span class="s">&lt;&lt;-___HERE</span>
<span class="s">		from numpy import loadtxt</span>
<span class="s">		from sklearn.metrics import roc_auc_score</span>

<span class="s">		data = loadtxt(&#39;$1&#39;)</span>
<span class="s">		print(roc_auc_score(data[:, 0], data[:, 1]))</span>
<span class="s">	___HERE</span>
<span class="o">}</span>

test_tagalog<span class="o">()</span>
<span class="o">{</span>
	<span class="k">for</span> _r in <span class="o">{</span><span class="m">1</span>..9<span class="o">}</span><span class="p">;</span> <span class="k">do</span>
		cat &lt;<span class="o">(</span>cat <span class="s2">&quot;</span><span class="nv">$ENGLISH_TEST</span><span class="s2">&quot;</span> <span class="p">|</span> negsel2 -n <span class="m">10</span> -r <span class="nv">$_r</span> -c -l <span class="p">|</span> sed <span class="s1">&#39;s/^/0\t/&#39;</span><span class="o">)</span> <span class="se">\</span>
			&lt;<span class="o">(</span>cat <span class="s2">&quot;</span><span class="nv">$TAGALOG_TEST</span><span class="s2">&quot;</span> <span class="p">|</span> negsel2 -n <span class="m">10</span> -r <span class="nv">$_r</span> -c -l <span class="p">|</span> sed <span class="s1">&#39;s/^/1\t/&#39;</span><span class="o">)</span> &gt; <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span>
		<span class="nb">echo</span> <span class="s2">&quot;English vs. Tagalog, r = </span><span class="nv">$_r</span><span class="s2">:&quot;</span> <span class="k">$(</span>roc_auc <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span><span class="k">)</span>
		rm -f <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span>
	<span class="k">done</span>
<span class="o">}</span>

test_generic<span class="o">()</span>
<span class="o">{</span>
	cat &lt;<span class="o">(</span>cat <span class="s2">&quot;</span><span class="nv">$ENGLISH_TEST</span><span class="s2">&quot;</span> <span class="p">|</span> negsel2 -n <span class="m">10</span> -r <span class="m">4</span> -c -l <span class="p">|</span> sed <span class="s1">&#39;s/^/0\t/&#39;</span><span class="o">)</span> <span class="se">\</span>
		&lt;<span class="o">(</span>cat <span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>            <span class="p">|</span> negsel2 -n <span class="m">10</span> -r <span class="m">4</span> -c -l <span class="p">|</span> sed <span class="s1">&#39;s/^/1\t/&#39;</span><span class="o">)</span> &gt; <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span>
	<span class="nb">echo</span> <span class="s2">&quot;English vs. </span><span class="nv">$1</span><span class="s2">, r = 4:&quot;</span> <span class="k">$(</span>roc_auc <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span><span class="k">)</span>
	rm -f <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span>
<span class="o">}</span>

test_tagalog
test_generic <span class="s2">&quot;Hiligaynon&quot;</span> <span class="s2">&quot;</span><span class="nv">$HILIGAYNON_TEST</span><span class="s2">&quot;</span>
test_generic <span class="s2">&quot;Middle English&quot;</span> <span class="s2">&quot;</span><span class="nv">$MIDDLE_ENDLISH_TEST</span><span class="s2">&quot;</span>
test_generic <span class="s2">&quot;Plautdietsch&quot;</span> <span class="s2">&quot;</span><span class="nv">$PLAUTDIETSCH_TEST</span><span class="s2">&quot;</span>
test_generic <span class="s2">&quot;Xhosa&quot;</span> <span class="s2">&quot;</span><span class="nv">$XHOSA_TEST</span><span class="s2">&quot;</span>
</pre></div>
</td></tr></table></div>
<p>And here’s the output:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span> <span class="mf">0.543534718425</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">2</span><span class="p">:</span> <span class="mf">0.739645981411</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">3</span><span class="p">:</span> <span class="mf">0.83112356479</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">4</span><span class="p">:</span> <span class="mf">0.791609713869</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">5</span><span class="p">:</span> <span class="mf">0.728244031347</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">6</span><span class="p">:</span> <span class="mf">0.668084791325</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">7</span><span class="p">:</span> <span class="mf">0.590725806452</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">8</span><span class="p">:</span> <span class="mf">0.520161290323</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Tagalog</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">9</span><span class="p">:</span> <span class="mf">0.512096774194</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Hiligaynon</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">4</span><span class="p">:</span> <span class="mf">0.797467741935</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Plautdietsch</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">4</span><span class="p">:</span> <span class="mf">0.753403225806</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Middle</span> <span class="n">English</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">4</span><span class="p">:</span> <span class="mf">0.533887096774</span>
<span class="n">English</span> <span class="n">vs</span><span class="o">.</span> <span class="n">Xhosa</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">4</span><span class="p">:</span> <span class="mf">0.832274193548</span>
</pre></div>
</div>
<p>We notice that the best results are obtained for <span class="math">\(r\)</span> of about 3.
<span class="math">\(r = 1\)</span> is basically a single letter and hence not enough
information to make a reasonable conclusion. Too high an <span class="math">\(r\)</span> is
again meaningless as there are almost no such long words.</p>
<p>And about other languages, one notices that it’s basically impossible
to distinguish similar languages (e.g. English vs. Middle English)
while the ones that are drastically different from English (e.g. Xhosa)
are very well recognised.</p>
</li>
<li><p class="first">Aside from the chunking, the algorithm is the same:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span>average<span class="o">()</span>
<span class="o">{</span>
	<span class="nb">local</span> <span class="nv">_N</span><span class="o">=</span><span class="nv">$1</span>
	<span class="nb">local</span> <span class="nv">_R</span><span class="o">=</span><span class="nv">$2</span>
	sed -E <span class="s1">&#39;s/(.{&#39;</span><span class="nv">$_N</span><span class="s1">&#39;})/\1\n/g&#39;</span> <span class="o">&lt;&lt;&lt;</span> <span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span> <span class="se">\</span>
		<span class="p">|</span> negsel2 -n <span class="nv">$_N</span> -r <span class="nv">$_R</span> -c -l <span class="m">2</span>&gt;/dev/null <span class="se">\</span>
		<span class="p">|</span> awk <span class="s1">&#39;BEGIN{x=0} {x+=$1} END{print x/NR}&#39;</span>
<span class="o">}</span>


test_one<span class="o">()</span>
<span class="o">{</span>
	<span class="nb">local</span> <span class="nv">_N</span><span class="o">=</span><span class="nv">$1</span>
	<span class="nb">local</span> <span class="nv">_R</span><span class="o">=</span><span class="nv">$2</span>
	paste <span class="s2">&quot;</span><span class="nv">$LABELS</span><span class="s2">&quot;</span> <span class="se">\</span>
		&lt;<span class="o">(</span><span class="k">while</span> <span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;&#39;</span> <span class="nb">read</span> -r line <span class="o">||</span> <span class="o">[[</span> -n <span class="s2">&quot;</span><span class="nv">$line</span><span class="s2">&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">do</span>
			average <span class="nv">$_N</span> <span class="nv">$_R</span> <span class="s2">&quot;</span><span class="nv">$line</span><span class="s2">&quot;</span>
			<span class="k">done</span> &lt; <span class="s2">&quot;</span><span class="nv">$TEST</span><span class="s2">&quot;</span><span class="o">)</span> &gt; <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span>
	roc_auc <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span>
	rm -f <span class="s2">&quot;</span><span class="nv">$TEMP_FILE</span><span class="s2">&quot;</span>
<span class="o">}</span>

test_one <span class="m">10</span> <span class="m">4</span>
</pre></div>
</td></tr></table></div>
<p>Surprisingly, it produces amazing results, i.e. ROC AUC is higher than
90%.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html#document-index">Table Of Contents</a></h3>
  <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-assignment_1">Assignment 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-assignment_2">Assignment 2</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html#document-index">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Jelmer Jansen, Tristan Payer, Tom Westerhout.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.6+</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>